<h2>タスク管理アプリ</h2>
<div>
  <input [(ngModel)]="title">
  <button (click)="add(title); title=''">追加</button>
</div>
<div>
  <label>
    タグ検索: 
    <input #searchKey (keyup)="search(searchKey.value)">
  </label>
</div>
<ul>
  <li 
  *ngFor="let task of tasks"
  (click)="onSelectedTask(task)"
  [class.selected]="selectedTask === task"
  >
    <span>
      {{task.id}}
    </span>
    <span>
      {{task.taskName}}
    </span>
    <button (click)="delete(task);">
      x
    </button>
    <button (click)="openDialog(task);">
      ?
    </button>
    <button (click)="done(task);">
      完了
    </button>
    <ng-container *ngIf="task.taskTag">
      <ul>
        <li *ngFor="let tag of task.taskTag">
          {{tag}}
        </li>
      </ul>
    </ng-container>
  </li>
</ul>
<app-task-detail 
[task]="selectedTask"
></app-task-detail>